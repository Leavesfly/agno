# Agno å¿«é€Ÿå¼€å§‹æŒ‡å—

<cite>
**æœ¬æ–‡æ¡£ä¸­å¼•ç”¨çš„æ–‡ä»¶**
- [README.md](file://cookbook/getting_started/README.md)
- [01_basic_agent.py](file://cookbook/getting_started/01_basic_agent.py)
- [02_agent_with_tools.py](file://cookbook/getting_started/02_agent_with_tools.py)
- [03_agent_with_knowledge.py](file://cookbook/getting_started/03_agent_with_knowledge.py)
- [04_write_your_own_tool.py](file://cookbook/getting_started/04_write_your_own_tool.py)
- [06_agent_with_storage.py](file://cookbook/getting_started/06_agent_with_storage.py)
- [07_agent_state.py](file://cookbook/getting_started/07_agent_state.py)
- [09_agent_session.py](file://cookbook/getting_started/09_agent_session.py)
- [10_user_memories_and_summaries.py](file://cookbook/getting_started/10_user_memories_and_summaries.py)
- [12_human_in_the_loop.py](file://cookbook/getting_started/12_human_in_the_loop.py)
- [13_image_agent.py](file://cookbook/getting_started/13_image_agent.py)
- [14_generate_image.py](file://cookbook/getting_started/14_generate_image.py)
- [17_agent_team.py](file://cookbook/getting_started/17_agent_team.py)
- [18_research_agent_exa.py](file://cookbook/getting_started/18_research_agent_exa.py)
- [agent.py](file://libs/agno/agno/agent/agent.py)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [ç¯å¢ƒæ­å»º](#ç¯å¢ƒæ­å»º)
3. [ç¬¬ä¸€ä¸ªæ™ºèƒ½ä½“](#ç¬¬ä¸€ä¸ªæ™ºèƒ½ä½“)
4. [æ·»åŠ å·¥å…·æ‰©å±•èƒ½åŠ›](#æ·»åŠ å·¥å…·æ‰©å±•èƒ½åŠ›)
5. [çŸ¥è¯†åº“é›†æˆ](#çŸ¥è¯†åº“é›†æˆ)
6. [è‡ªå®šä¹‰å·¥å…·å¼€å‘](#è‡ªå®šä¹‰å·¥å…·å¼€å‘)
7. [æŒä¹…åŒ–å­˜å‚¨](#æŒä¹…åŒ–å­˜å‚¨)
8. [çŠ¶æ€ç®¡ç†](#çŠ¶æ€ç®¡ç†)
9. [ä¼šè¯ç®¡ç†](#ä¼šè¯ç®¡ç†)
10. [å¤šæ™ºèƒ½ä½“åä½œ](#å¤šæ™ºèƒ½ä½“åä½œ)
11. [é«˜çº§åŠŸèƒ½](#é«˜çº§åŠŸèƒ½)
12. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
13. [æ€»ç»“](#æ€»ç»“)

## ç®€ä»‹

Agno æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ AI æ™ºèƒ½ä½“æ¡†æ¶ï¼Œå…è®¸å¼€å‘è€…è½»æ¾åˆ›å»ºå…·æœ‰å„ç§èƒ½åŠ›çš„æ™ºèƒ½ä»£ç†ã€‚æœ¬æŒ‡å—å°†å¸¦é¢†æ‚¨ä»é›¶å¼€å§‹ï¼Œé€æ­¥æ„å»ºä¸€ä¸ªå®Œæ•´çš„ã€åŠŸèƒ½é½å…¨çš„æ™ºèƒ½ä½“ç³»ç»Ÿã€‚

Agno çš„æ ¸å¿ƒç‰¹æ€§åŒ…æ‹¬ï¼š
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ”¯æŒç‹¬ç«‹çš„åŠŸèƒ½ç»„ä»¶
- **å¤šæ¨¡æ€æ”¯æŒ**ï¼šå¤„ç†æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘
- **å·¥å…·é›†æˆ**ï¼šè½»æ¾è¿æ¥å¤–éƒ¨ API å’ŒæœåŠ¡
- **çŸ¥è¯†åº“é›†æˆ**ï¼šæ”¯æŒå‘é‡æ•°æ®åº“å’Œ RAG ç³»ç»Ÿ
- **ä¼šè¯ç®¡ç†**ï¼šæŒä¹…åŒ–å¯¹è¯å†å²å’ŒçŠ¶æ€
- **å›¢é˜Ÿåä½œ**ï¼šå¤šä¸ªæ™ºèƒ½ä½“ååŒå·¥ä½œ

## ç¯å¢ƒæ­å»º

### å®‰è£…ä¾èµ–

é¦–å…ˆï¼Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…å¿…è¦çš„ä¾èµ–åŒ…ï¼š

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv .venv
source .venv/bin/activate

# å®‰è£…åŸºç¡€ä¾èµ–
pip install openai agno

# å®‰è£…é¢å¤–çš„å·¥å…·ä¾èµ–ï¼ˆæ ¹æ®éœ€è¦ï¼‰
pip install ddgs yfinance lancedb tantivy pypdf requests exa-py newspaper4k lxml_html_clean sqlalchemy
```

### é…ç½® API å¯†é’¥

è®¾ç½®æ‰€éœ€çš„ API å¯†é’¥ï¼š

```bash
# OpenAI API å¯†é’¥
export OPENAI_API_KEY=your_api_key_here

# EXA API å¯†é’¥ï¼ˆç”¨äºç ”ç©¶åŠŸèƒ½ï¼‰
export EXA_API_KEY=your_exa_api_key_here

# ModelsLab API å¯†é’¥ï¼ˆç”¨äºè§†é¢‘ç”Ÿæˆï¼‰
export MODELS_LAB_API_KEY=your_models_lab_api_key_here
```

## ç¬¬ä¸€ä¸ªæ™ºèƒ½ä½“

è®©æˆ‘ä»¬ä»åˆ›å»ºä¸€ä¸ªç®€å•çš„æ–°é—»æŠ¥é“æ™ºèƒ½ä½“å¼€å§‹ã€‚

### åŸºç¡€æ™ºèƒ½ä½“ç¤ºä¾‹

```python
"""çº½çº¦é£æ ¼çš„æ–°é—»æŠ¥é“æ™ºèƒ½ä½“"""

from textwrap import dedent
from agno.agent import Agent
from agno.models.openai import OpenAIChat

# åˆ›å»ºå¸¦æœ‰ç‹¬ç‰¹ä¸ªæ€§çš„æ–°é—»æŠ¥é“æ™ºèƒ½ä½“
agent = Agent(
    model=OpenAIChat(id="gpt-4o"),
    instructions=dedent("""\
        ä½ æ˜¯ä¸€ä¸ªå……æ»¡æ´»åŠ›çš„æ–°é—»æŠ¥é“å‘˜ï¼Œæ“…é•¿è®²æ•…äº‹ï¼ğŸ—½
        æŠŠè‡ªå·±æƒ³è±¡æˆä¸€ä¸ªæœºæ™ºçš„å–œå‰§æ¼”å‘˜å’Œæ•é”è®°è€…çš„ç»“åˆä½“ã€‚

        ä½ çš„é£æ ¼æŒ‡å—ï¼š
        - ä½¿ç”¨è¡¨æƒ…ç¬¦å·çš„å¼•äººæ³¨ç›®çš„æ ‡é¢˜å¼€å¤´
        - ä»¥çº½çº¦æ€åº¦åˆ†äº«æ–°é—»
        - ä¿æŒç®€æ´ä½†æœ‰è¶£çš„å›åº”
        - é€‚å½“åŠ å…¥æœ¬åœ°å‚è€ƒå’Œçº½çº¦ä¿šè¯­
        - ä»¥"å›åˆ°æ¼”æ’­å®¤"æˆ–"ä»å¤§è‹¹æœç›´æ’­æŠ¥é“"ç­‰å¸å¼•äººçš„ç»“æŸè¯­ç»“å°¾

        è®°ä½è¦éªŒè¯æ‰€æœ‰äº‹å®ï¼ŒåŒæ—¶ä¿æŒçº½çº¦èƒ½é‡æ»¡æ»¡ï¼\
    """),
    markdown=True,
)

# ç¤ºä¾‹ä½¿ç”¨
agent.print_response(
    "å‘Šè¯‰æˆ‘å…³äºæ—¶ä»£å¹¿åœºå‘ç”Ÿçš„ä¸€æ¡çªå‘æ–°é—»æ•…äº‹ã€‚", stream=True
)
```

**ç« èŠ‚æ¥æº**
- [01_basic_agent.py](file://cookbook/getting_started/01_basic_agent.py#L1-L48)

è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†ï¼š
- å¦‚ä½•åˆ›å»ºåŸºæœ¬çš„æ™ºèƒ½ä½“
- å¦‚ä½•è®¾ç½®æ¨¡å‹å‚æ•°
- å¦‚ä½•ç¼–å†™ä¸ªæ€§åŒ–çš„æŒ‡ä»¤
- å¦‚ä½•å¯ç”¨ Markdown æ ¼å¼è¾“å‡º
- å¦‚ä½•å®ç°æµå¼å“åº”

## æ·»åŠ å·¥å…·æ‰©å±•èƒ½åŠ›

æ™ºèƒ½ä½“çš„å¼ºå¤§ä¹‹å¤„åœ¨äºå®ƒå¯ä»¥è°ƒç”¨å¤–éƒ¨å·¥å…·æ¥æ‰©å±•å…¶èƒ½åŠ›ã€‚

### å¸¦å·¥å…·çš„æ™ºèƒ½ä½“

```python
"""å…·æœ‰ç½‘ç»œæœç´¢èƒ½åŠ›çš„ AI æ–°é—»ä¼™ä¼´"""

from textwrap import dedent
from agno.agent import Agent
from agno.models.openai import OpenAIChat
from agno.tools.duckduckgo import DuckDuckGoTools

# åˆ›å»ºå…·æœ‰æœ‰è¶£ä¸ªæ€§çš„æ–°é—»æŠ¥é“æ™ºèƒ½ä½“
agent = Agent(
    model=OpenAIChat(id="gpt-4o"),
    instructions=dedent("""\
        ä½ æ˜¯ä¸€ä¸ªå……æ»¡æ´»åŠ›çš„æ–°é—»æŠ¥é“å‘˜ï¼Œæ“…é•¿è®²æ•…äº‹ï¼ğŸ—½
        æŠŠè‡ªå·±æƒ³è±¡æˆä¸€ä¸ªæœºæ™ºçš„å–œå‰§æ¼”å‘˜å’Œæ•é”è®°è€…çš„ç»“åˆä½“ã€‚

        æ¯æ¬¡æŠ¥å‘Šæ—¶éµå¾ªä»¥ä¸‹æŒ‡å—ï¼š
        1. ä½¿ç”¨æœç´¢å·¥å…·æŸ¥æ‰¾å½“å‰ã€å‡†ç¡®çš„ä¿¡æ¯
        2. ç”¨çœŸå®çš„çº½çº¦çƒ­æƒ…å’Œå½“åœ°é£å‘³å‘ˆç°æ–°é—»
        3. å°†æŠ¥å‘Šç»“æ„åŒ–ä¸ºæ¸…æ™°çš„éƒ¨åˆ†ï¼š
           - å¸å¼•äººçš„æ ‡é¢˜
           - æ–°é—»çš„ç®€è¦æ‘˜è¦
           - å…³é”®ç»†èŠ‚å’Œå¼•è¨€
           - å½“åœ°å½±å“æˆ–èƒŒæ™¯
        4. ä¿æŒç®€æ´ä½†ä¿¡æ¯ä¸°å¯Œï¼ˆæœ€å¤š2-3æ®µï¼‰
        5. åŒ…å«çº½çº¦é£æ ¼çš„è¯„è®ºå’Œæœ¬åœ°å‚è€ƒ
        6. ä»¥ç­¾åçš„ç»“æŸè¯­ç»“å°¾

        ç»“æŸè¯­ç¤ºä¾‹ï¼š
        - "å›åˆ°æ¼”æ’­å®¤ï¼Œæœ‹å‹ä»¬ï¼"
        - "ä»æ°¸ä¸çœ çš„åŸå¸‚ç›´æ’­æŠ¥é“ï¼"
        - "æˆ‘æ˜¯[ä½ çš„åå­—]ï¼Œä»æ›¼å“ˆé¡¿çš„å¿ƒè„åœ°å¸¦ç›´æ’­ï¼"

        è®°ä½ï¼šæ€»æ˜¯é€šè¿‡ç½‘ç»œæœç´¢éªŒè¯äº‹å®ï¼ŒåŒæ—¶ä¿æŒçœŸå®çš„çº½çº¦èƒ½é‡ï¼\
    """),
    tools=[DuckDuckGoTools()],
    markdown=True,
)

# ç¤ºä¾‹ä½¿ç”¨
agent.print_response(
    "å‘Šè¯‰æˆ‘å…³äºæ—¶ä»£å¹¿åœºå‘ç”Ÿçš„ä¸€æ¡çªå‘æ–°é—»æ•…äº‹ã€‚", stream=True
)
```

**ç« èŠ‚æ¥æº**
- [02_agent_with_tools.py](file://cookbook/getting_started/02_agent_with_tools.py#L1-L61)

### å¯ç”¨çš„å†…ç½®å·¥å…·

Agno æä¾›äº†ä¸°å¯Œçš„å†…ç½®å·¥å…·é›†ï¼š

- **DuckDuckGoTools**ï¼šç½‘ç»œæœç´¢
- **ExaTools**ï¼šå­¦æœ¯å’Œæ–°é—»æœç´¢
- **CalculatorTools**ï¼šæ•°å­¦è®¡ç®—
- **FileTools**ï¼šæ–‡ä»¶æ“ä½œ
- **ShellTools**ï¼šå‘½ä»¤è¡Œæ‰§è¡Œ
- **WebTools**ï¼šç½‘é¡µæŠ“å–
- **YouTubeTools**ï¼šè§†é¢‘æœç´¢
- **WikipediaTools**ï¼šç»´åŸºç™¾ç§‘æŸ¥è¯¢

## çŸ¥è¯†åº“é›†æˆ

æ™ºèƒ½ä½“å¯ä»¥ä¸çŸ¥è¯†åº“é›†æˆï¼Œæä¾›æ›´å‡†ç¡®å’Œä¸“ä¸šçš„å›ç­”ã€‚

### å¸¦çŸ¥è¯†åº“çš„æ™ºèƒ½ä½“

```python
"""AIçƒ¹é¥ªåŠ©æ‰‹ï¼"""

from textwrap import dedent
from agno.agent import Agent
from agno.knowledge.embedder.openai import OpenAIEmbedder
from agno.knowledge.knowledge import Knowledge
from agno.models.openai import OpenAIChat
from agno.tools.duckduckgo import DuckDuckGoTools
from agno.vectordb.lancedb import LanceDb, SearchType

# è®¾ç½®çŸ¥è¯†åº“
knowledge = Knowledge(
    vector_db=LanceDb(
        uri="tmp/lancedb",
        table_name="recipe_knowledge",
        search_type=SearchType.hybrid,
        embedder=OpenAIEmbedder(id="text-embedding-3-small"),
    ),
)

# æ·»åŠ å†…å®¹åˆ°çŸ¥è¯†åº“
knowledge.add_content(
    url="https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf"
)

# åˆ›å»ºå…·æœ‰æ³°å›½èœçŸ¥è¯†çš„é£Ÿè°±ä¸“å®¶æ™ºèƒ½ä½“
agent = Agent(
    model=OpenAIChat(id="gpt-4o"),
    instructions=dedent("""\
        ä½ æ˜¯ä¸€ä¸ªçƒ­æƒ…ä¸”åšå­¦çš„æ³°å›½ç¾é£Ÿä¸“å®¶ï¼ğŸ§‘â€ğŸ³
        æŠŠè‡ªå·±æƒ³è±¡æˆä¸€ä¸ªæ¸©æš–ã€é¼“åŠ±çš„çƒ¹é¥ªå¯¼å¸ˆï¼Œ
        ä¸€ä½æ³°å›½ç¾é£Ÿå†å²å­¦å®¶å’Œæ–‡åŒ–å¤§ä½¿çš„ç»“åˆä½“ã€‚

        å›ç­”é—®é¢˜æ—¶éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š
        1. å¦‚æœç”¨æˆ·è¯¢é—®æœ‰å…³æ³°å›½ç¾é£Ÿçš„é—®é¢˜ï¼Œå§‹ç»ˆæœç´¢çŸ¥è¯†åº“ä¸­çš„çœŸå®æ³°å›½é£Ÿè°±å’Œçƒ¹é¥ªä¿¡æ¯
        2. å¦‚æœçŸ¥è¯†åº“ä¸­çš„ä¿¡æ¯ä¸å®Œæ•´ï¼Œæˆ–è€…ç”¨æˆ·çš„é—®é¢˜æ›´é€‚åˆç½‘ç»œæœç´¢ï¼Œåˆ™æœç´¢ç½‘ç»œä»¥è¡¥å……ç©ºç™½
        3. å¦‚æœåœ¨çŸ¥è¯†åº“ä¸­æ‰¾åˆ°ä¿¡æ¯ï¼Œæ— éœ€æœç´¢ç½‘ç»œ
        4. æ€»æ˜¯ä¼˜å…ˆè€ƒè™‘çŸ¥è¯†åº“ä¿¡æ¯è€Œéç½‘ç»œç»“æœä»¥ç¡®ä¿çœŸå®æ€§
        5. å¦‚æœ‰å¿…è¦ï¼Œè¡¥å……ç½‘ç»œæœç´¢ä»¥è·å–ï¼š
           - ç°ä»£åŒ–æ”¹ç¼–æˆ–é£Ÿææ›¿ä»£å“
           - æ–‡åŒ–èƒŒæ™¯å’Œå†å²èƒŒæ™¯
           - é¢å¤–çš„çƒ¹é¥ªæŠ€å·§å’Œæ•…éšœæ’é™¤

        äº¤æµé£æ ¼ï¼š
        1. æ¯ä¸ªå›åº”ä»¥ç›¸å…³çš„çƒ¹é¥ªè¡¨æƒ…ç¬¦å·å¼€å¤´
        2. æ¸…æ™°åœ°ç»„ç»‡ä½ çš„å›åº”ï¼š
           - ç®€çŸ­çš„ä»‹ç»æˆ–èƒŒæ™¯
           - ä¸»è¦å†…å®¹ï¼ˆé£Ÿè°±ã€è§£é‡Šæˆ–å†å²ï¼‰
           - æŠ€å·§æˆ–æ–‡åŒ–æ´å¯Ÿ
           - é¼“åŠ±æ€§çš„ç»“è®º
        3. å¯¹äºé£Ÿè°±ï¼ŒåŒ…æ‹¬ï¼š
           - å¯èƒ½çš„æ›¿ä»£å“çš„é£Ÿæåˆ—è¡¨
           - æ¸…æ¥šçš„ç¼–å·çƒ¹é¥ªæ­¥éª¤
           - æˆåŠŸæŠ€å·§å’Œå¸¸è§é™·é˜±
        4. ä½¿ç”¨å‹å¥½ã€é¼“åŠ±çš„è¯­è¨€

        ç‰¹æ®ŠåŠŸèƒ½ï¼š
        - è§£é‡Šä¸ç†Ÿæ‚‰çš„æ³°å›½é£Ÿæå¹¶å»ºè®®æ›¿ä»£å“
        - åˆ†äº«ç›¸å…³æ–‡åŒ–èƒŒæ™¯å’Œä¼ ç»Ÿ
        - æä¾›é€‚åº”ä¸åŒé¥®é£Ÿéœ€æ±‚çš„æŠ€å·§
        - åŒ…å«ç”¨é¤å»ºè®®å’Œé…èœ

        æ¯ä¸ªå›åº”ä»¥é¼“èˆäººå¿ƒçš„ç»“æŸè¯­ç»“å°¾ï¼Œå¦‚ï¼š
        - "ç¥ä½ çƒ¹é¥ªæ„‰å¿«ï¼à¸‚à¸­à¹ƒà¸«à¹‰à¸­à¸£à¹ˆà¸­à¸¢ï¼ˆäº«å—ä½ çš„ç¾é¤ï¼‰ï¼"
        - "æ„¿ä½ çš„æ³°å›½çƒ¹é¥ªå†’é™©å¸¦æ¥å¿«ä¹ï¼"
        - "äº«å—ä½ çš„è‡ªåˆ¶æ³°å›½ç››å®´ï¼"

        è®°ä½ï¼š
        - å§‹ç»ˆç”¨çŸ¥è¯†åº“éªŒè¯é£Ÿè°±çš„çœŸå®æ€§
        - æ˜ç¡®æŒ‡å‡ºä¿¡æ¯æ¥è‡ªç½‘ç»œæ¥æº
        - å¯¹æ‰€æœ‰æŠ€èƒ½æ°´å¹³çš„å®¶åº­å¨å¸ˆéƒ½è¡¨ç°å‡ºé¼“åŠ±å’Œæ”¯æŒ\
    """),
    knowledge=knowledge,
    tools=[DuckDuckGoTools()],
    markdown=True,
)

# ç¤ºä¾‹æŸ¥è¯¢
agent.print_response(
    "å¦‚ä½•åˆ¶ä½œæ¤°å¥¶é¸¡å’Œé«˜è‰¯å§œæ±¤", stream=True
)
```

**ç« èŠ‚æ¥æº**
- [03_agent_with_knowledge.py](file://cookbook/getting_started/03_agent_with_knowledge.py#L1-L99)

### æ”¯æŒçš„çŸ¥è¯†åº“ç±»å‹

- **LanceDB**ï¼šé«˜æ€§èƒ½å‘é‡æ•°æ®åº“
- **Chroma**ï¼šå¼€æºå‘é‡æ•°æ®åº“
- **Qdrant**ï¼šå‘é‡æœç´¢å¼•æ“
- **Pinecone**ï¼šæ‰˜ç®¡å‘é‡æ•°æ®åº“
- **Weaviate**ï¼šè¯­ä¹‰æœç´¢å¼•æ“
- **PostgreSQL**ï¼šå…³ç³»å‹æ•°æ®åº“
- **MongoDB**ï¼šNoSQL æ•°æ®åº“

## è‡ªå®šä¹‰å·¥å…·å¼€å‘

æ‚¨å¯ä»¥åˆ›å»ºè‡ªå·±çš„å·¥å…·æ¥æ‰©å±•æ™ºèƒ½ä½“çš„èƒ½åŠ›ã€‚

### è‡ªå®šä¹‰å·¥å…·ç¤ºä¾‹

```python
"""ä½¿ç”¨ Hacker News API çš„è‡ªå®šä¹‰å·¥å…·ç¤ºä¾‹"""

import json
from textwrap import dedent
import httpx
from agno.agent import Agent
from agno.models.openai import OpenAIChat

def get_top_hackernews_stories(num_stories: int = 10) -> str:
    """ä½¿ç”¨æ­¤å‡½æ•°è·å– Hacker News ä¸Šçš„çƒ­é—¨æ•…äº‹ã€‚

    å‚æ•°:
        num_stories (int): è¦è¿”å›çš„æ•…äº‹æ•°é‡ã€‚é»˜è®¤ä¸º 10ã€‚

    è¿”å›:
        str: çƒ­é—¨æ•…äº‹çš„ JSON å­—ç¬¦ä¸²ã€‚
    """

    # è·å–çƒ­é—¨æ•…äº‹ ID
    response = httpx.get("https://hacker-news.firebaseio.com/v0/topstories.json")
    story_ids = response.json()

    # è·å–æ•…äº‹è¯¦æƒ…
    stories = []
    for story_id in story_ids[:num_stories]:
        story_response = httpx.get(
            f"https://hacker-news.firebaseio.com/v0/item/{story_id}.json"
        )
        story = story_response.json()
        if "text" in story:
            story.pop("text", None)
        stories.append(story)
    return json.dumps(stories)

# åˆ›å»ºå…·æœ‰ç¡…è°·ä¸ªæ€§çš„ç§‘æŠ€æ–°é—»æŠ¥é“æ™ºèƒ½ä½“
agent = Agent(
    model=OpenAIChat(id="gpt-4o"),
    instructions=dedent("""\
        ä½ æ˜¯ä¸€ä¸ªå¯¹æŠ€æœ¯å……æ»¡çƒ­æƒ…çš„ Hacker News æŠ¥é“å‘˜ï¼Œçƒ­çˆ±æ‰€æœ‰ä¸æŠ€æœ¯ç›¸å…³çš„äº‹ç‰©ï¼ğŸ¤–
        æŠŠè‡ªå·±æƒ³è±¡æˆä¸€ä¸ªç¡…è°·å†…éƒ¨äººå£«å’Œç§‘æŠ€è®°è€…çš„ç»“åˆä½“ã€‚

        ä½ çš„é£æ ¼æŒ‡å—ï¼š
        - ä½¿ç”¨è¡¨æƒ…ç¬¦å·çš„å¼•äººæ³¨ç›®çš„æŠ€æœ¯æ ‡é¢˜å¼€å¤´
        - ä»¥å……æ»¡æŠ€æœ¯å‰ç»çš„æ€åº¦å‘ˆç° Hacker News æ•…äº‹
        - ä¿æŒç®€æ´ä½†ä¿¡æ¯ä¸°å¯Œçš„å›åº”
        - é€‚å½“ä½¿ç”¨æŠ€æœ¯è¡Œä¸šå‚è€ƒå’Œåˆ›ä¸šæœ¯è¯­
        - ä»¥"å›åˆ°ç»ˆç«¯ï¼"æˆ–"æ¨é€åˆ°ç”Ÿäº§ç¯å¢ƒï¼"ç­‰å¸å¼•äººçš„æŠ€æœ¯ä¸»é¢˜ç»“æŸè¯­ç»“å°¾

        è®°ä½è¦å½»åº•åˆ†æ HN æ•…äº‹ï¼ŒåŒæ—¶ä¿æŒæŠ€æœ¯çƒ­æƒ…é«˜æ¶¨ï¼\
    """),
    tools=[get_top_hackernews_stories],
    markdown=True,
)

# ç¤ºä¾‹é—®é¢˜
agent.print_response("æ€»ç»“ Hacker News ä¸Šçš„å‰ 5 æ¡çƒ­é—¨æ•…äº‹ï¼Ÿ", stream=True)
```

**ç« èŠ‚æ¥æº**
- [04_write_your_own_tool.py](file://cookbook/getting_started/04_write_your_own_tool.py#L1-L76)

### å·¥å…·å¼€å‘æœ€ä½³å®è·µ

1. **æ˜ç¡®çš„å‡½æ•°ç­¾å**ï¼šä¸ºæ¯ä¸ªå‚æ•°æä¾›æ¸…æ™°çš„æ–‡æ¡£å­—ç¬¦ä¸²
2. **é”™è¯¯å¤„ç†**ï¼šå®ç°é€‚å½“çš„å¼‚å¸¸å¤„ç†
3. **æ•°æ®æ ¼å¼**ï¼šè¿”å›æ ‡å‡†åŒ–çš„æ•°æ®æ ¼å¼
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šè€ƒè™‘å¼‚æ­¥æ“ä½œå’Œç¼“å­˜ç­–ç•¥
5. **å®‰å…¨æ€§**ï¼šéªŒè¯è¾“å…¥å‚æ•°å’Œè®¿é—®æƒé™

## æŒä¹…åŒ–å­˜å‚¨

æ™ºèƒ½ä½“å¯ä»¥ä½¿ç”¨æ•°æ®åº“ä¿å­˜çŠ¶æ€å’Œå†å²è®°å½•ã€‚

### å¸¦å­˜å‚¨çš„æ™ºèƒ½ä½“

```python
"""AIçƒ¹é¥ªåŠ©æ‰‹ï¼"""

from textwrap import dedent
from typing import List, Optional
import typer
from agno.agent import Agent
from agno.db.base import SessionType
from agno.db.sqlite import SqliteDb
from agno.knowledge.embedder.openai import OpenAIEmbedder
from agno.knowledge.knowledge import Knowledge
from agno.models.openai import OpenAIChat
from agno.session import AgentSession
from agno.tools.duckduckgo import DuckDuckGoTools
from agno.vectordb.lancedb import LanceDb, SearchType
from rich import print

# è®¾ç½®çŸ¥è¯†åº“
agent_knowledge = Knowledge(
    vector_db=LanceDb(
        uri="tmp/lancedb",
        table_name="recipe_knowledge",
        search_type=SearchType.hybrid,
        embedder=OpenAIEmbedder(id="text-embedding-3-small"),
    ),
)

# æ·»åŠ å†…å®¹åˆ°çŸ¥è¯†åº“
agent_knowledge.add_content(
    url="https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf"
)

# è®¾ç½®æ•°æ®åº“
db = SqliteDb(db_file="tmp/agents.db")

def recipe_agent(user: str = "user"):
    session_id: Optional[str] = None

    # è¯¢é—®ç”¨æˆ·æ˜¯å¦è¦å¼€å§‹æ–°ä¼šè¯æˆ–ç»§ç»­ç°æœ‰ä¼šè¯
    new = typer.confirm("ä½ æƒ³å¼€å§‹æ–°çš„ä¼šè¯å—ï¼Ÿ")

    if not new:
        existing_sessions: List[AgentSession] = db.get_sessions(  # type: ignore
            user_id=user, session_type=SessionType.AGENT
        )
        if len(existing_sessions) > 0:
            session_id = existing_sessions[0].session_id

    agent = Agent(
        user_id=user,
        session_id=session_id,
        model=OpenAIChat(id="gpt-4o"),
        instructions=dedent("""\
            ä½ æ˜¯ä¸€ä¸ªçƒ­æƒ…ä¸”åšå­¦çš„æ³°å›½ç¾é£Ÿä¸“å®¶ï¼ğŸ§‘â€ğŸ³
            æŠŠè‡ªå·±æƒ³è±¡æˆä¸€ä¸ªæ¸©æš–ã€é¼“åŠ±çš„çƒ¹é¥ªå¯¼å¸ˆï¼Œ
            ä¸€ä½æ³°å›½ç¾é£Ÿå†å²å­¦å®¶å’Œæ–‡åŒ–å¤§ä½¿çš„ç»“åˆä½“ã€‚

            å›ç­”é—®é¢˜æ—¶éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š
            1. é¦–å…ˆï¼Œåœ¨çŸ¥è¯†åº“ä¸­æœç´¢çœŸå®çš„æ³°å›½é£Ÿè°±å’Œçƒ¹é¥ªä¿¡æ¯
            2. å¦‚æœçŸ¥è¯†åº“ä¸­çš„ä¿¡æ¯ä¸å®Œæ•´ï¼Œæˆ–è€…ç”¨æˆ·çš„é—®é¢˜æ›´é€‚åˆç½‘ç»œæœç´¢ï¼Œåˆ™æœç´¢ç½‘ç»œä»¥è¡¥å……ç©ºç™½
            3. å¦‚æœåœ¨çŸ¥è¯†åº“ä¸­æ‰¾åˆ°ä¿¡æ¯ï¼Œæ— éœ€æœç´¢ç½‘ç»œ
            4. æ€»æ˜¯ä¼˜å…ˆè€ƒè™‘çŸ¥è¯†åº“ä¿¡æ¯è€Œéç½‘ç»œç»“æœä»¥ç¡®ä¿çœŸå®æ€§
            5. å¦‚æœ‰å¿…è¦ï¼Œè¡¥å……ç½‘ç»œæœç´¢ä»¥è·å–ï¼š
               - ç°ä»£åŒ–æ”¹ç¼–æˆ–é£Ÿææ›¿ä»£å“
               - æ–‡åŒ–èƒŒæ™¯å’Œå†å²èƒŒæ™¯
               - é¢å¤–çš„çƒ¹é¥ªæŠ€å·§å’Œæ•…éšœæ’é™¤

            äº¤æµé£æ ¼ï¼š
            1. æ¯ä¸ªå›åº”ä»¥ç›¸å…³çš„çƒ¹é¥ªè¡¨æƒ…ç¬¦å·å¼€å¤´
            2. æ¸…æ™°åœ°ç»„ç»‡ä½ çš„å›åº”ï¼š
               - ç®€çŸ­çš„ä»‹ç»æˆ–èƒŒæ™¯
               - ä¸»è¦å†…å®¹ï¼ˆé£Ÿè°±ã€è§£é‡Šæˆ–å†å²ï¼‰
               - æŠ€å·§æˆ–æ–‡åŒ–æ´å¯Ÿ
               - é¼“åŠ±æ€§çš„ç»“è®º
            3. å¯¹äºé£Ÿè°±ï¼ŒåŒ…æ‹¬ï¼š
               - å¯èƒ½çš„æ›¿ä»£å“çš„é£Ÿæåˆ—è¡¨
               - æ¸…æ¥šçš„ç¼–å·çƒ¹é¥ªæ­¥éª¤
               - æˆåŠŸæŠ€å·§å’Œå¸¸è§é™·é˜±
            4. ä½¿ç”¨å‹å¥½ã€é¼“åŠ±çš„è¯­è¨€

            ç‰¹æ®ŠåŠŸèƒ½ï¼š
            - è§£é‡Šä¸ç†Ÿæ‚‰çš„æ³°å›½é£Ÿæå¹¶å»ºè®®æ›¿ä»£å“
            - åˆ†äº«ç›¸å…³æ–‡åŒ–èƒŒæ™¯å’Œä¼ ç»Ÿ
            - æä¾›é€‚åº”ä¸åŒé¥®é£Ÿéœ€æ±‚çš„æŠ€å·§
            - åŒ…å«ç”¨é¤å»ºè®®å’Œé…èœ

            æ¯ä¸ªå›åº”ä»¥é¼“èˆäººå¿ƒçš„ç»“æŸè¯­ç»“å°¾ï¼Œå¦‚ï¼š
            - "ç¥ä½ çƒ¹é¥ªæ„‰å¿«ï¼à¸‚à¸­à¹ƒà¸«à¹‰à¸­à¸£à¹ˆà¸­à¸¢ï¼ˆäº«å—ä½ çš„ç¾é¤ï¼‰ï¼"
            - "æ„¿ä½ çš„æ³°å›½çƒ¹é¥ªå†’é™©å¸¦æ¥å¿«ä¹ï¼"
            - "äº«å—ä½ çš„è‡ªåˆ¶æ³°å›½ç››å®´ï¼"

            è®°ä½ï¼š
            - å§‹ç»ˆç”¨çŸ¥è¯†åº“éªŒè¯é£Ÿè°±çš„çœŸå®æ€§
            - æ˜ç¡®æŒ‡å‡ºä¿¡æ¯æ¥è‡ªç½‘ç»œæ¥æº
            - å¯¹æ‰€æœ‰æŠ€èƒ½æ°´å¹³çš„å®¶åº­å¨å¸ˆéƒ½è¡¨ç°å‡ºé¼“åŠ±å’Œæ”¯æŒ\
        """),
        db=db,
        knowledge=agent_knowledge,
        tools=[DuckDuckGoTools()],
        # ä¸ºäº†ç»™æ™ºèƒ½ä½“æä¾›èŠå¤©å†å²
        # æˆ‘ä»¬å¯ä»¥ï¼š
        # 1. ç»™æ™ºèƒ½ä½“æä¾›ä¸€ä¸ªå·¥å…·æ¥è¯»å–èŠå¤©å†å²
        # 2. è‡ªåŠ¨å°†èŠå¤©å†å²æ·»åŠ åˆ°å‘é€ç»™æ¨¡å‹çš„æ¶ˆæ¯ä¸­
        #
        # 1. ç»™æ™ºèƒ½ä½“æä¾›ä¸€ä¸ªå·¥å…·æ¥è¯»å–èŠå¤©å†å²
        read_chat_history=True,
        # 2. è‡ªåŠ¨å°†èŠå¤©å†å²æ·»åŠ åˆ°å‘é€ç»™æ¨¡å‹çš„æ¶ˆæ¯ä¸­
        # add_history_to_context=True,
        # è¦æ·»åŠ åˆ°å‘é€ç»™æ¨¡å‹çš„æ¶ˆæ¯ä¸­çš„å†å²å“åº”æ•°é‡
        # num_history_runs=3,
        markdown=True,
    )

    print("ä½ å³å°†ä¸ä¸€ä¸ªæ™ºèƒ½ä½“èŠå¤©ï¼")
    if session_id is None:
        session_id = agent.session_id
        if session_id is not None:
            print(f"å¼€å§‹ä¼šè¯: {session_id}\n")
        else:
            print("å¼€å§‹ä¼šè¯\n")
    else:
        print(f"ç»§ç»­ä¼šè¯: {session_id}\n")

    # å°†æ™ºèƒ½ä½“ä½œä¸ºå‘½ä»¤è¡Œåº”ç”¨ç¨‹åºè¿è¡Œ
    agent.cli_app(markdown=True)
```

**ç« èŠ‚æ¥æº**
- [06_agent_with_storage.py](file://cookbook/getting_started/06_agent_with_storage.py#L1-L145)

### æ”¯æŒçš„æ•°æ®åº“ç±»å‹

- **SQLite**ï¼šè½»é‡çº§åµŒå…¥å¼æ•°æ®åº“
- **PostgreSQL**ï¼šåŠŸèƒ½å¼ºå¤§çš„å…³ç³»å‹æ•°æ®åº“
- **MySQL**ï¼šæµè¡Œçš„å¼€æºæ•°æ®åº“
- **MongoDB**ï¼šNoSQL æ–‡æ¡£æ•°æ®åº“
- **Redis**ï¼šå†…å­˜æ•°æ®åº“
- **DynamoDB**ï¼šAWS æ‰˜ç®¡æ•°æ®åº“
- **Firestore**ï¼šGoogle Cloud æ•°æ®åº“

## çŠ¶æ€ç®¡ç†

æ™ºèƒ½ä½“å¯ä»¥ç»´æŠ¤çŠ¶æ€ä¿¡æ¯ä»¥è®°ä½ä¸Šä¸‹æ–‡ã€‚

### çŠ¶æ€ç®¡ç†ç¤ºä¾‹

```python
"""æ™ºèƒ½ä½“çŠ¶æ€ç®¡ç†ç¤ºä¾‹"""

from agno.agent import Agent
from agno.models.openai import OpenAIChat

# åˆ›å»ºå¯ç”¨äº†çŠ¶æ€ç®¡ç†çš„æ™ºèƒ½ä½“
agent = Agent(
    model=OpenAIChat(id="gpt-4o"),
    enable_agentic_state=True,  # å¯ç”¨æ™ºèƒ½ä½“çŠ¶æ€
    add_session_state_to_context=True,  # å°†çŠ¶æ€æ·»åŠ åˆ°ä¸Šä¸‹æ–‡ä¸­
    session_state={"language": "English", "preferences": {}},
    instructions="""
    ä½ æ˜¯ä¸€ä¸ªå¤šè¯­è¨€æ™ºèƒ½ä½“åŠ©æ‰‹ã€‚
    æ ¹æ®ä¼šè¯çŠ¶æ€è°ƒæ•´ä½ çš„å“åº”è¯­è¨€ã€‚
    å¦‚æœçŠ¶æ€ä¸­æ²¡æœ‰æŒ‡å®šè¯­è¨€ï¼Œé»˜è®¤ä½¿ç”¨è‹±è¯­ã€‚
    """,
)

# æ™ºèƒ½ä½“ä¼šè‡ªåŠ¨æ›´æ–°å’Œä¿å­˜çŠ¶æ€
agent.print_response("Hello, how are you?")
```

**ç« èŠ‚æ¥æº**
- [07_agent_state.py](file://cookbook/getting_started/07_agent_state.py)

### çŠ¶æ€ç®¡ç†åŠŸèƒ½

- **åŠ¨æ€çŠ¶æ€æ›´æ–°**ï¼šæ™ºèƒ½ä½“å¯ä»¥åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¿®æ”¹çŠ¶æ€
- **è·¨ä¼šè¯æŒä¹…åŒ–**ï¼šçŠ¶æ€å¯ä»¥åœ¨å¤šæ¬¡ä¼šè¯ä¹‹é—´ä¿æŒ
- **æ¡ä»¶é€»è¾‘**ï¼šå¯ä»¥æ ¹æ®çŠ¶æ€å€¼æ”¹å˜è¡Œä¸º
- **ä¸ªæ€§åŒ–ä½“éªŒ**ï¼šæ ¹æ®ç”¨æˆ·åå¥½å®šåˆ¶å“åº”

## ä¼šè¯ç®¡ç†

æ™ºèƒ½ä½“å¯ä»¥ç®¡ç†å¯¹è¯å†å²å’Œä¼šè¯æ‘˜è¦ã€‚

### ä¼šè¯ç®¡ç†ç¤ºä¾‹

```python
"""æ™ºèƒ½ä½“ä¼šè¯ç®¡ç†ç¤ºä¾‹"""

from agno.agent import Agent
from agno.models.openai import OpenAIChat

# åˆ›å»ºå¯ç”¨äº†ä¼šè¯æ‘˜è¦çš„æ™ºèƒ½ä½“
agent = Agent(
    model=OpenAIChat(id="gpt-4o"),
    enable_session_summaries=True,  # å¯ç”¨ä¼šè¯æ‘˜è¦
    add_session_summary_to_context=True,  # å°†æ‘˜è¦æ·»åŠ åˆ°ä¸Šä¸‹æ–‡ä¸­
    instructions="""
    ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ä¼šè®®è®°å½•åŠ©æ‰‹ã€‚
    åˆ©ç”¨ä¼šè¯æ‘˜è¦æ¥æä¾›æ›´å¥½çš„ä¸Šä¸‹æ–‡ç†è§£ã€‚
    """,
)

# æ™ºèƒ½ä½“ä¼šè‡ªåŠ¨åˆ›å»ºå’Œæ›´æ–°ä¼šè¯æ‘˜è¦
agent.print_response("è¯·è®°å½•æˆ‘ä»¬çš„è®¨è®ºè¦ç‚¹ã€‚")
```

**ç« èŠ‚æ¥æº**
- [09_agent_session.py](file://cookbook/getting_started/09_agent_session.py)

### ä¼šè¯ç®¡ç†ç‰¹æ€§

- **ä¼šè¯æ‘˜è¦**ï¼šè‡ªåŠ¨æ€»ç»“å¯¹è¯å†…å®¹
- **å†å²æ£€ç´¢**ï¼šå¿«é€Ÿè®¿é—®è¿‡å»çš„å¯¹è¯
- **ä¼šè¯æ¢å¤**ï¼šä»ä¹‹å‰çš„ä¼šè¯ç»§ç»­
- **å¤šç”¨æˆ·æ”¯æŒ**ï¼šæ”¯æŒå¤šä¸ªç”¨æˆ·çš„ç‹¬ç«‹ä¼šè¯

## å¤šæ™ºèƒ½ä½“åä½œ

å¤šä¸ªæ™ºèƒ½ä½“å¯ä»¥ååŒå·¥ä½œå®Œæˆå¤æ‚ä»»åŠ¡ã€‚

### æ™ºèƒ½ä½“å›¢é˜Ÿç¤ºä¾‹

```python
"""ä¸“ä¸šæ–°é—»ä¸é‡‘èå›¢é˜Ÿï¼"""

from textwrap import dedent
from agno.agent import Agent
from agno.models.openai import OpenAIChat
from agno.team.team import Team
from agno.tools.duckduckgo import DuckDuckGoTools
from agno.tools.exa import ExaTools

# åˆ›å»ºç½‘ç»œç ”ç©¶å‘˜æ™ºèƒ½ä½“
web_agent = Agent(
    name="ç½‘ç»œç ”ç©¶å‘˜",
    role="åœ¨ç½‘ç»œä¸Šæœç´¢ä¿¡æ¯",
    model=OpenAIChat(id="gpt-4o"),
    tools=[DuckDuckGoTools()],
    instructions=dedent("""\
        ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ç½‘ç»œç ”ç©¶å‘˜å’Œæ–°é—»åˆ†æå¸ˆï¼ğŸ”

        æœç´¢ä¿¡æ¯æ—¶éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š
        1. ä»æœ€æ–°å’Œæœ€ç›¸å…³çš„æ¥æºå¼€å§‹
        2. ä»å¤šä¸ªæ¥æºäº¤å‰å‚è€ƒä¿¡æ¯
        3. ä¼˜å…ˆè€ƒè™‘å£°èª‰è‰¯å¥½çš„æ–°é—»æœºæ„å’Œå®˜æ–¹æ¥æº
        4. å§‹ç»ˆå¼•ç”¨å¸¦æœ‰é“¾æ¥çš„æ¥æº
        5. é‡ç‚¹å…³æ³¨å¸‚åœºé©±åŠ¨çš„æ–°é—»å’Œé‡å¤§å‘å±•

        ä½ çš„é£æ ¼æŒ‡å—ï¼š
        - ä»¥æ¸…æ™°ã€æ–°é—»ä¸šé£æ ¼å‘ˆç°ä¿¡æ¯
        - ä½¿ç”¨è¦ç‚¹çªå‡ºå…³é”®è¦ç‚¹
        - åŒ…å«å¯ç”¨çš„å¼•è¨€
        - ä¸ºæ¯æ¡æ–°é—»æŒ‡å®šæ—¥æœŸå’Œæ—¶é—´
        - å¼ºè°ƒå¸‚åœºæƒ…ç»ªå’Œè¡Œä¸šè¶‹åŠ¿
        - ä»¥å¯¹æ•´ä½“å™è¿°çš„ç®€è¦åˆ†æç»“æŸ
        - ç‰¹åˆ«å…³æ³¨ç›‘ç®¡æ–°é—»ã€è´¢æŠ¥å’Œæˆ˜ç•¥å…¬å‘Š\
    """),
    markdown=True,
)

# åˆ›å»ºé‡‘èåˆ†æå¸ˆæ™ºèƒ½ä½“
finance_agent = Agent(
    name="é‡‘èåˆ†æå¸ˆ",
    role="è·å–é‡‘èæ•°æ®",
    model=OpenAIChat(id="gpt-4o"),
    tools=[
        ExaTools(
            include_domains=["trendlyne.com"],
            text=False,
            highlights=False,
            show_results=True,
        )
    ],
    instructions=dedent("""\
        ä½ æ˜¯ä¸€ä½ç²¾é€šå¸‚åœºæ•°æ®çš„ç†Ÿç»ƒé‡‘èåˆ†æå¸ˆï¼ğŸ“Š

        åˆ†æé‡‘èæ•°æ®æ—¶éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š
        1. ä»æœ€æ–°çš„è‚¡ä»·ã€äº¤æ˜“é‡å’Œæ—¥èŒƒå›´å¼€å§‹
        2. å‘ˆç°è¯¦ç»†çš„åˆ†æå¸ˆæ¨èå’Œå…±è¯†ç›®æ ‡ä»·æ ¼
        3. åŒ…æ‹¬å…³é”®æŒ‡æ ‡ï¼šå¸‚ç›ˆç‡ã€å¸‚å€¼ã€52å‘¨èŒƒå›´
        4. åˆ†æäº¤æ˜“æ¨¡å¼å’Œæˆäº¤é‡è¶‹åŠ¿
        5. ä¸ç›¸å…³è¡Œä¸šæŒ‡æ•°è¿›è¡Œæ¯”è¾ƒ

        ä½ çš„é£æ ¼æŒ‡å—ï¼š
        - ä½¿ç”¨è¡¨æ ¼å±•ç¤ºç»“æ„åŒ–æ•°æ®
        - ä¸ºæ¯ä¸ªæ•°æ®éƒ¨åˆ†æ·»åŠ æ¸…æ™°çš„æ ‡é¢˜
        - ä¸ºæŠ€æœ¯æœ¯è¯­æ·»åŠ ç®€è¦è§£é‡Š
        - ä½¿ç”¨è¡¨æƒ…ç¬¦å·ï¼ˆğŸ“ˆ ğŸ“‰ï¼‰çªå‡ºæ˜¾è‘—å˜åŒ–
        - ä½¿ç”¨è¦ç‚¹æä¾›å¿«é€Ÿæ´å¯Ÿ
        - å°†å½“å‰å€¼ä¸å†å²å¹³å‡å€¼è¿›è¡Œæ¯”è¾ƒ
        - ä»¥æ•°æ®é©±åŠ¨çš„é‡‘èå±•æœ›ç»“æŸ\
    """),
    markdown=True,
)

# åˆ›å»ºå›¢é˜Ÿ
agent_team = Team(
    members=[web_agent, finance_agent],
    model=OpenAIChat(id="gpt-4o"),
    instructions=dedent("""\
        ä½ æ˜¯è‘—åé‡‘èæ–°é—»ç¼–è¾‘éƒ¨çš„é¦–å¸­ç¼–è¾‘ï¼ğŸ“°

        ä½ çš„è§’è‰²ï¼š
        1. åœ¨ç½‘ç»œç ”ç©¶å‘˜å’Œé‡‘èåˆ†æå¸ˆä¹‹é—´è¿›è¡Œåè°ƒ
        2. å°†ä»–ä»¬çš„å‘ç°æ•´åˆæˆå¼•äººå…¥èƒœçš„å™è¿°
        3. ç¡®ä¿æ‰€æœ‰ä¿¡æ¯éƒ½å¾—åˆ°æ­£ç¡®æ¥æºéªŒè¯
        4. æä¾›æ–°é—»å’Œæ•°æ®çš„å¹³è¡¡è§‚ç‚¹
        5. å¼ºè°ƒå…³é”®é£é™©å’Œæœºä¼š

        ä½ çš„é£æ ¼æŒ‡å—ï¼š
        - ä»¥å¼•äººæ³¨ç›®çš„æ ‡é¢˜å¼€å¤´
        - ä»¥å¼ºæœ‰åŠ›çš„æ‰§è¡Œæ‘˜è¦å¼€å§‹
        - å…ˆå‘ˆç°é‡‘èæ•°æ®ï¼Œç„¶åæ˜¯æ–°é—»èƒŒæ™¯
        - ä½¿ç”¨æ¸…æ™°çš„åˆ†èŠ‚åŒºåˆ†ä¸åŒç±»å‹çš„ä¿¡æ¯
        - åœ¨å¯ç”¨æ—¶åŒ…å«ç›¸å…³å›¾è¡¨æˆ–è¡¨æ ¼
        - æ·»åŠ "å¸‚åœºæƒ…ç»ª"éƒ¨åˆ†æ˜¾ç¤ºå½“å‰æƒ…ç»ª
        - ä»¥"å…³é”®è¦ç‚¹"éƒ¨åˆ†ç»“æŸ
        - é€‚å½“æƒ…å†µä¸‹åŒ…å«"é£é™©å› ç´ "
        - ä»¥"å¸‚åœºè§‚å¯Ÿå›¢é˜Ÿ"å’Œå½“å‰æ—¥æœŸç»“æŸ\
    """),
    add_datetime_to_context=True,
    markdown=True,
    show_members_responses=False,
)

# ç¤ºä¾‹ä½¿ç”¨
agent_team.print_response(
    "æ€»ç»“ NVDA çš„åˆ†æå¸ˆæ¨èå¹¶åˆ†äº«æœ€æ–°æ–°é—»", stream=True
)
```

**ç« èŠ‚æ¥æº**
- [17_agent_team.py](file://cookbook/getting_started/17_agent_team.py#L1-L133)

### å›¢é˜Ÿåä½œæ¨¡å¼

- **åä½œæ¨¡å¼**ï¼šæ‰€æœ‰æˆå‘˜å…±åŒå‚ä¸å†³ç­–
- **åè°ƒæ¨¡å¼**ï¼šç”±é¢†å¯¼æ™ºèƒ½ä½“åè°ƒå·¥ä½œ
- **è·¯ç”±æ¨¡å¼**ï¼šæ ¹æ®ä»»åŠ¡ç±»å‹åˆ†é…ç»™ç‰¹å®šæˆå‘˜

## é«˜çº§åŠŸèƒ½

### å¤šåª’ä½“å¤„ç†

æ™ºèƒ½ä½“å¯ä»¥å¤„ç†å¤šç§åª’ä½“ç±»å‹ã€‚

#### å›¾åƒå¤„ç†æ™ºèƒ½ä½“

```python
"""å›¾åƒåˆ†ææ™ºèƒ½ä½“"""

from agno.agent import Agent
from agno.models.openai import OpenAIChat

agent = Agent(
    model=OpenAIChat(id="gpt-4o"),
    instructions="ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å›¾åƒåˆ†æåŠ©æ‰‹ã€‚",
)

# å¤„ç†å›¾åƒæ–‡ä»¶
agent.print_response(
    "åˆ†æè¿™å¼ å›¾ç‰‡å¹¶æè¿°å…¶ä¸­çš„å†…å®¹ã€‚",
    media=[Image(path="image.jpg")]
)
```

**ç« èŠ‚æ¥æº**
- [13_image_agent.py](file://cookbook/getting_started/13_image_agent.py)

#### è§†é¢‘ç”Ÿæˆæ™ºèƒ½ä½“

```python
"""è§†é¢‘ç”Ÿæˆæ™ºèƒ½ä½“"""

from agno.agent import Agent
from agno.models.models_lab import ModelsLab

agent = Agent(
    model=ModelsLab(),
    instructions="ä½ æ˜¯ä¸€ä¸ªåˆ›æ„è§†é¢‘ç”ŸæˆåŠ©æ‰‹ã€‚",
)

# ç”Ÿæˆè§†é¢‘
agent.print_response(
    "ç”Ÿæˆä¸€ä¸ªå…³äºæœªæ¥åŸå¸‚çš„åˆ›æ„è§†é¢‘æ¦‚å¿µã€‚",
    media=[Video(generate=True)]
)
```

**ç« èŠ‚æ¥æº**
- [15_generate_video.py](file://cookbook/getting_started/15_generate_video.py)

### äººç±»äº¤äº’

æ™ºèƒ½ä½“å¯ä»¥è¦æ±‚äººå·¥ç¡®è®¤æ‰èƒ½æ‰§è¡ŒæŸäº›æ“ä½œã€‚

```python
"""å¸¦äººå·¥äº¤äº’çš„æ™ºèƒ½ä½“"""

from agno.agent import Agent
from agno.models.openai import OpenAIChat

agent = Agent(
    model=OpenAIChat(id="gpt-4o"),
    instructions="ä½ æ˜¯ä¸€ä¸ªè°¨æ…çš„è´¢åŠ¡é¡¾é—®ã€‚",
    human_in_the_loop=True,  # å¯ç”¨äººå·¥æ£€æŸ¥
)

# æ™ºèƒ½ä½“ä¼šåœ¨æ‰§è¡Œæ•æ„Ÿæ“ä½œå‰è¯·æ±‚ç¡®è®¤
agent.print_response("å¸®æˆ‘æ‰§è¡Œä¸€ç¬”ä»·å€¼ $1000 çš„äº¤æ˜“ã€‚")
```

**ç« èŠ‚æ¥æº**
- [12_human_in_the_loop.py](file://cookbook/getting_started/12_human_in_the_loop.py)

### ç ”ç©¶æ™ºèƒ½ä½“

```python
"""AIç ”ç©¶åŠ©æ‰‹"""

from datetime import datetime
from pathlib import Path
from textwrap import dedent
from agno.agent import Agent
from agno.models.openai import OpenAIChat
from agno.tools.exa import ExaTools

cwd = Path(__file__).parent.resolve()
tmp = cwd.joinpath("tmp")
if not tmp.exists():
    tmp.mkdir(exist_ok=True, parents=True)

today = datetime.now().strftime("%Y-%m-%d")

agent = Agent(
    model=OpenAIChat(id="gpt-4o"),
    tools=[ExaTools(start_published_date=today, type="keyword")],
    description=dedent("""\
        ä½ æ˜¯ä¸€ä¸ªæ°å‡ºçš„ AI ç ”ç©¶ç§‘å­¦å®¶ï¼Œä¸“é•¿äºåˆ†æå’Œç»¼åˆå¤æ‚ä¿¡æ¯ã€‚
        ä½ çš„ä¸“é•¿åœ¨äºåˆ›å»ºç¬¦åˆå­¦æœ¯æ ‡å‡†ä¸”å¼•äººå…¥èƒœçš„ç ”ç©¶æŠ¥å‘Šã€‚
    """),
    instructions=dedent("""\
        å¼€å§‹è¿è¡Œ 3 ä¸ªä¸åŒçš„æœç´¢æ¥æ”¶é›†å…¨é¢çš„ä¿¡æ¯ã€‚
        åˆ†æå’Œäº¤å‰å‚è€ƒæ¥æºä»¥ç¡®ä¿å‡†ç¡®æ€§å’Œç›¸å…³æ€§ã€‚
        æŒ‰ç…§å­¦æœ¯æ ‡å‡†ä½†ä¿æŒå¯è¯»æ€§æ¥ç»„ç»‡ä½ çš„æŠ¥å‘Šã€‚
        ä»…åŒ…å«ç»è¿‡éªŒè¯çš„äº‹å®å¹¶æ­£ç¡®å¼•ç”¨ã€‚
        åˆ›å»ºå¼•äººå…¥èƒœçš„å™è¿°ï¼Œå¼•å¯¼è¯»è€…äº†è§£å¤æ‚ä¸»é¢˜ã€‚
        ä»¥å¯æ“ä½œçš„è¦ç‚¹å’Œæœªæ¥å½±å“ç»“æŸã€‚
    """),
    expected_output=dedent("""\
    ä»¥ markdown æ ¼å¼çš„ä¸“ä¸šç ”ç©¶æŠ¥å‘Šï¼š

    # {æ•æ‰ä¸»é¢˜ç²¾é«“çš„å¼•äººæ³¨ç›®çš„æ ‡é¢˜}

    ## æ‰§è¡Œæ‘˜è¦
    {å…³é”®å‘ç°å’Œé‡è¦æ€§çš„ç®€è¦æ¦‚è¿°}

    ## å¼•è¨€
    {ä¸»é¢˜çš„èƒŒæ™¯å’Œé‡è¦æ€§}
    {å½“å‰ç ”ç©¶/è®¨è®ºçš„çŠ¶æ€}

    ## ä¸»è¦å‘ç°
    {ä¸»è¦å‘ç°æˆ–å‘å±•}
    {æ”¯æŒè¯æ®å’Œåˆ†æ}

    ## å½±å“
    {å¯¹é¢†åŸŸ/ç¤¾ä¼šçš„å½±å“}
    {æœªæ¥æ–¹å‘}

    ## å…³é”®è¦ç‚¹
    - {è¦ç‚¹ 1}
    - {è¦ç‚¹ 2}
    - {è¦ç‚¹ 3}

    ## å‚è€ƒæ–‡çŒ®
    - [æ¥æº 1](é“¾æ¥) - å…³é”®å‘ç°/å¼•è¨€
    - [æ¥æº 2](é“¾æ¥) - å…³é”®å‘ç°/å¼•è¨€
    - [æ¥æº 3](é“¾æ¥) - å…³é”®å‘ç°/å¼•è¨€

    ---
    ç”±æ•™æˆ X-1000 ç”Ÿæˆ
    é«˜çº§ç ”ç©¶ç³»ç»Ÿéƒ¨é—¨
    æ—¥æœŸï¼š{å½“å‰æ—¥æœŸ}\
    """),
    markdown=True,
    add_datetime_to_context=True,
    save_response_to_file=str(tmp.joinpath("{message}.md")),
)

# ç¤ºä¾‹ä½¿ç”¨
agent.print_response(
    "ç ”ç©¶è„‘æœºæ¥å£çš„æœ€æ–°å‘å±•", stream=True
)
```

**ç« èŠ‚æ¥æº**
- [18_research_agent_exa.py](file://cookbook/getting_started/18_research_agent_exa.py#L1-L114)

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 1. API å¯†é’¥é—®é¢˜

```python
# æ£€æŸ¥ API å¯†é’¥æ˜¯å¦æ­£ç¡®è®¾ç½®
import os

print("OpenAI API Key:", os.getenv("OPENAI_API_KEY"))
print("EXA API Key:", os.getenv("EXA_API_KEY"))
print("ModelsLab API Key:", os.getenv("MODELS_LAB_API_KEY"))
```

#### 2. ä¾èµ–åŒ…ç‰ˆæœ¬å†²çª

```bash
# å‡çº§ pip å¹¶é‡æ–°å®‰è£…
pip install --upgrade pip
pip install --force-reinstall agno
```

#### 3. çŸ¥è¯†åº“åˆå§‹åŒ–å¤±è´¥

```python
# æ£€æŸ¥æ•°æ®åº“è·¯å¾„å’Œæƒé™
import os

db_path = "tmp/lancedb"
os.makedirs(db_path, exist_ok=True)
print(f"æ•°æ®åº“è·¯å¾„å­˜åœ¨: {os.path.exists(db_path)}")
```

#### 4. å·¥å…·æ‰§è¡Œé”™è¯¯

```python
# æ·»åŠ é”™è¯¯å¤„ç†è£…é¥°å™¨
import functools

def safe_tool(func):
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        try:
            return func(*args, **kwargs)
        except Exception as e:
            return f"å·¥å…·æ‰§è¡Œå¤±è´¥: {str(e)}"
    return wrapper

@safe_tool
def risky_tool():
    # å¯èƒ½å‡ºé”™çš„å·¥å…·ä»£ç 
    pass
```

### è°ƒè¯•æŠ€å·§

1. **å¯ç”¨è°ƒè¯•æ—¥å¿—**ï¼š
```python
from agno.utils.log import set_log_level_to_debug
set_log_level_to_debug()
```

2. **æ£€æŸ¥æ™ºèƒ½ä½“çŠ¶æ€**ï¼š
```python
print(f"æ™ºèƒ½ä½“ ID: {agent.id}")
print(f"ä¼šè¯ ID: {agent.session_id}")
print(f"çŠ¶æ€: {agent.session_state}")
```

3. **ç›‘æ§å·¥å…·è°ƒç”¨**ï¼š
```python
agent.print_response("æµ‹è¯•å·¥å…·è°ƒç”¨", stream=True)
```

## æ€»ç»“

é€šè¿‡æœ¬å¿«é€Ÿå¼€å§‹æŒ‡å—ï¼Œæ‚¨å·²ç»å­¦ä¼šäº†ï¼š

1. **ç¯å¢ƒæ­å»º**ï¼šæˆåŠŸå®‰è£…å’Œé…ç½® Agno ç¯å¢ƒ
2. **åŸºç¡€æ™ºèƒ½ä½“**ï¼šåˆ›å»ºå…·æœ‰ç‹¬ç‰¹ä¸ªæ€§çš„ç®€å•æ™ºèƒ½ä½“
3. **å·¥å…·é›†æˆ**ï¼šæ·»åŠ ç½‘ç»œæœç´¢å’Œå…¶ä»–å®ç”¨å·¥å…·
4. **çŸ¥è¯†åº“**ï¼šé›†æˆå‘é‡æ•°æ®åº“å’Œ RAG ç³»ç»Ÿ
5. **è‡ªå®šä¹‰å·¥å…·**ï¼šå¼€å‘è‡ªå·±çš„ä¸“ç”¨å·¥å…·
6. **æŒä¹…åŒ–å­˜å‚¨**ï¼šå®ç°ä¼šè¯å’ŒçŠ¶æ€æŒä¹…åŒ–
7. **å¤šæ™ºèƒ½ä½“åä½œ**ï¼šæ„å»ºå›¢é˜Ÿæ™ºèƒ½ä½“ç³»ç»Ÿ
8. **é«˜çº§åŠŸèƒ½**ï¼šå¤„ç†å¤šåª’ä½“å’Œäººå·¥äº¤äº’

### ä¸‹ä¸€æ­¥å»ºè®®

1. **æ¢ç´¢æ›´å¤šç¤ºä¾‹**ï¼šæµè§ˆ cookbook ä¸­çš„å…¶ä»–ç¤ºä¾‹
2. **è‡ªå®šä¹‰é…ç½®**ï¼šæ ¹æ®æ‚¨çš„å…·ä½“éœ€æ±‚è°ƒæ•´æ™ºèƒ½ä½“è®¾ç½®
3. **æ€§èƒ½ä¼˜åŒ–**ï¼šå­¦ä¹ å¦‚ä½•ä¼˜åŒ–æ™ºèƒ½ä½“çš„å“åº”é€Ÿåº¦
4. **éƒ¨ç½²åº”ç”¨**ï¼šå°†æ™ºèƒ½ä½“é›†æˆåˆ°å®é™…çš„åº”ç”¨ç¨‹åºä¸­
5. **ç¤¾åŒºè´¡çŒ®**ï¼šå‚ä¸ Agno ç¤¾åŒºï¼Œåˆ†äº«æ‚¨çš„ç»éªŒå’Œå·¥å…·

### æœ€ä½³å®è·µæ€»ç»“

- **æ¸è¿›å¼å­¦ä¹ **ï¼šæŒ‰ç…§æŒ‡å—ä¸­çš„é¡ºåºé€æ­¥å­¦ä¹ 
- **é”™è¯¯å¤„ç†**ï¼šå§‹ç»ˆä¸ºå·¥å…·å’Œ API è°ƒç”¨æ·»åŠ é”™è¯¯å¤„ç†
- **å®‰å…¨è€ƒè™‘**ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å®æ–½é€‚å½“çš„å®‰å…¨æªæ–½
- **æ€§èƒ½ç›‘æ§**ï¼šè·Ÿè¸ªæ™ºèƒ½ä½“çš„æ€§èƒ½å’Œèµ„æºä½¿ç”¨æƒ…å†µ
- **æŒç»­æ”¹è¿›**ï¼šæ ¹æ®ç”¨æˆ·åé¦ˆä¸æ–­ä¼˜åŒ–æ™ºèƒ½ä½“çš„è¡Œä¸º

ç°åœ¨æ‚¨å·²ç»æŒæ¡äº† Agno çš„åŸºç¡€çŸ¥è¯†ï¼Œå¯ä»¥å¼€å§‹æ„å»ºè‡ªå·±çš„æ™ºèƒ½ä½“åº”ç”¨ç¨‹åºäº†ï¼è®°ä½ï¼Œæœ€å¥½çš„å­¦ä¹ æ–¹å¼æ˜¯é€šè¿‡å®è·µï¼Œæ‰€ä»¥è¯·å¤§èƒ†å°è¯•å¹¶åˆ›æ–°ã€‚